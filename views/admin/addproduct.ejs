<%- include('../layouts/adminheader.ejs') -%>
    <!-- 
<div class=" center-div container-fluid p-5" ">
    <h1>ADD PRODUCT</h1>
    </div> -->


    <div class="center-div container-fluid p-5" ">
    <h1>ADD PRODUCT</h1>
    <div class=" container w-50 border py-5">
        <form action="" method="post" enctype="multipart/form-data">
            <div class="d-flex">
                <div class="flex-grow-1">
                    <div class="form-group">
                        <label for="formGroupExampleInput">Name </label>
                        <input type="text" class="form-control" id="name" name="name" placeholder="">
                    </div>
                    <div class="form-group">
                        <label for="formGroupExampleInput2">Description</label>
                        <input type="text" class="form-control" id="description" name="description" placeholder="">
                    </div>
                    <div class="form-group">
                        <label for="formGroupExampleInput2">Category</label>
                        <select class="form-select" name="category">

                            <% for(let i=0;i<category.length; ++i) {%>
                                <option>
                                    <%= category[i].name %>
                                </option>
                                <% }%>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="formGroupExampleInput2">Price</label>
                        <input type="text" class="form-control" id="price" name="price" placeholder="" on>
                    </div>
                    <div class="form-group">
                        <label for="formGroupExampleInput2">Stock</label>
                        <input type="text" class="form-control" id="stock" name="stock" placeholder="">
                    </div>

                    <div class="form-group">
                        <label for="exampleFormControlFile1">Image 1</label>
                        <input type="file" class="form-control" name="images" id="images" multiple>
                    </div>
                    <!-- <div class="form-group">
                            <label for="exampleFormControlFile1">Image 2</label>
                            <input type="file" class="form-control" name="images" id="exampleFormControlFile1">
                        </div>
                        <div class="form-group">
                            <label for="exampleFormControlFile1">Image 3</label>
                            <input type="file" class="form-control" name="images" id="exampleFormControlFile1">
                        </div>             -->
                </div>
            </div>
            <br>
            <button type="submit" id="submit" name="submit" class="btn btn-success">Add Product</button>
        </form>
    </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("submit").addEventListener("click", function (event) {

                  // Validation for Description
                  const nameInput = document.getElementById("name");
                  const nameValue = nameInput.value.trim()
                  if ((nameValue.length === 0)|| nameValue.length>15) {
                      alert("Please enter valid Name.");
                      event.preventDefault();
                  }
  
                // Validation for Description
                const descriptionInput = document.getElementById("description");
                const descriptionValue = descriptionInput.value.trim()
                if ((descriptionValue.length === 0)|| descriptionValue.length>30) {
                    alert("Please enter valid description.");
                    event.preventDefault();
                }

                // Validation for Price
                const priceInput = document.getElementById("price");
                const priceValue = parseFloat(priceInput.value);
                if (isNaN(priceValue) || priceValue <= 0) {
                    alert("Please enter a valid price greater than 0.");
                    event.preventDefault();
                }

                // Validation for Stock
                const stockInput = document.getElementById("stock");
                const stockValue = parseInt(stockInput.value);
                if (isNaN(stockValue) || stockValue < 0) {
                    alert("Please enter a valid stock quantity (non-negative).");
                    event.preventDefault();
                }
            });
        });
    </script>

    <%- include('../layouts/footer.ejs') -%>